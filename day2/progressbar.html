<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="progressbar.css">
    <title>Progress Bar</title>
    <style>
        body{
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif
        }
    </style>
</head>
<body>
  
  <div class="container">
    <h2>Progress Bar</h2>
    <p>wanna find a more efficient way to implement the progress bar</p>
    <progress id="p" value="0" max="100">%</progress>
    <span>0</span>
  </div>
  
  <script>
    function getRandomInt(num) {
      return Math.floor(Math.random() * Math.floor(num))
    }
    setInterval(function() {
      // Q: why use a variable to store document..., the following code doesn't working
      var pValue = document.getElementsByTagName('progress')[0].value
      document.getElementsByTagName('span')[0].innerHTML = pValue + "%"
      var i = getRandomInt(5)
      var j = getRandomInt(5) + 5
      var k = getRandomInt(5) + 10  
      if (document.getElementsByTagName('progress')[0].value <= 30){
        document.getElementsByTagName('progress')[0].value = document.getElementsByTagName('progress')[0].value + i
      } else if (30 < document.getElementsByTagName('progress')[0].value <= 70) {
        document.getElementsByTagName('progress')[0].value = document.getElementsByTagName('progress')[0].value + j
      } else {
        document.getElementsByTagName('progress')[0].value = document.getElementsByTagName('progress')[0].value + k
      }
      if (document.getElementsByTagName('progress')[0].value === 100){
        document.getElementsByTagName('progress')[0].value = 0
      }
      
    },200)
  </script>
</html>